/* eslint-disable react/react-in-jsx-scope, react/jsx-no-undef */

class StrongWithTooltip extends React.Component {
  state = {
    target: null
  }

  handleRef = target => {
    if (!this.state.target) this.setState({target})
  }

  render() {
    const {text} = this.props
    const {target} = this.state
    return (
      <span>
        <strong ref={this.handleRef}>{text}</strong>
        {target && (
          <AtomTooltip placement="right" target={target}>
            Hello <strong>world</strong>!
          </AtomTooltip>
        )}
      </span>
    )
  }
}

const stylesList = {
  display: 'flex',
  listStyle: 'none',
  width: '300px',
  padding: '10px',
  border: '1px solid #ccc',
  justifyContent: 'space-around'
}

const listContainerStyles = {
  listStyle: 'none',
  padding: '10px',
  border: '1px solid #ccc',
  maxWidth: '400px',
  minHeight: '400px',
  position: 'relative',
  display: 'flex',
  justifyContent: 'center',
  margin: '20px auto',
  padding: '0'
}

const listItemStyles = {
  padding: '10px',
  position: 'absolute'
}

const listItemTop = Object.assign(
  {...listItemStyles},
  {width: '100%', display: 'flex', justifyContent: 'space-around'},
  {top: '0', zIndex: '10'}
)
const listItemRight = Object.assign(
  {...listItemStyles},
  {
    height: '100%',
    display: 'flex',
    flexDirection: 'column',
    justifyContent: 'space-around'
  },
  {right: '0', alignSelf: 'center'}
)

const listItemBottom = Object.assign(
  {...listItemStyles},
  {width: '100%', display: 'flex', justifyContent: 'space-around'},
  {bottom: '0'}
)

const listItemLeft = Object.assign(
  {...listItemStyles},
  {
    height: '100%',
    display: 'flex',
    flexDirection: 'column',
    justifyContent: 'space-around'
  },
  {left: '0', alignSelf: 'center'}
)

return (
  <div>
    <h1>AtomTooltip</h1>
    <h2>Maintain tooltip on hover over tooltp with <code>autohide=false</code> (so users can select text in tooltip)</h2>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <p>
        Lorem ipsum dolor sit amet <strong id="december">december</strong>
      </p>
      <AtomTooltip autohide={false} target="december">
        Ahorarr amatomaa tiene musho peligro hasta luego
        Lucas amatomaa. Va usté muy cargadoo diodenoo la caidita a wan al
        ataquerl diodenoo llevame al sircoo va usté muy cargadoo por la gloria
        de mi madre sexuarl quietooor.
      </AtomTooltip>
    </div>
    <h2>Delay on show/hide and click outside to hide</h2>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <p>
        Lorem ipsum dolor sit amet <strong id="november">november</strong>
      </p>
      <AtomTooltip delay={{show: 300, hide: 1500}} target="november">
        A peich apetecan sexuarl quietooor caballo blanco caballo negroorl
        amatomaa benemeritaar. A gramenawer a peich por la gloria de mi madre
        está la cosa muy malar benemeritaar pecador por la gloria de mi madre
        tiene musho peligro papaar papaar.
      </AtomTooltip>
    </div>
    <h2>
      Maximum of 4 lines with <em>ellipsis</em>
    </h2>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <p>
        Lorem ipsum dolor sit amet <strong id="avenue">astros</strong>
      </p>
      <AtomTooltip placement="right" target="avenue">
        Lorem fistrum ese que llega pecador torpedo apetecan no puedor te voy a
        borrar el cerito torpedo a gramenawer ese que llega. A peich sexuarl a
        peich amatomaa a wan. Condemor ese pedazo de llevame al sircoo jarl
        benemeritaar condemor. Ahorarr amatomaa tiene musho peligro hasta luego
        Lucas amatomaa. Va usté muy cargadoo diodenoo la caidita a wan al
        ataquerl diodenoo llevame al sircoo va usté muy cargadoo por la gloria
        de mi madre sexuarl quietooor. A peich apetecan sexuarl quietooor
        caballo blanco caballo negroorl amatomaa benemeritaar. A gramenawer a
        peich por la gloria de mi madre está la cosa muy malar benemeritaar
        pecador por la gloria de mi madre tiene musho peligro papaar papaar.
      </AtomTooltip>
    </div>
    <h2>
      Tooltip without arrow using <code>hideArrow</code>
    </h2>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <p>
        Lorem ipsum dolor sit amet <strong id="indeed">astros</strong>
      </p>
      <AtomTooltip placement="right" target="indeed" noarrow>
        Hello <strong>world</strong>!
      </AtomTooltip>
    </div>
    <h2>
      Positioning tooltip with <code>placement</code>
    </h2>
    <div>
      <div
        style={{
          border: '1px solid #CCC',
          background: '#fff',
          marginTop: '10px',
          padding: '10px'
        }}
      >
        <ul style={listContainerStyles}>
          {/* --- top --- */}
          <li style={listItemTop}>
            <strong id="top-start">top-start</strong>
            <strong id="top">top</strong>
            <strong id="top-end">top-end</strong>
            <AtomTooltip target="top-start" placement="top-start">
              <code>placement='top-start'</code>
            </AtomTooltip>
            <AtomTooltip target="top" placement="top">
              <code>placement='top'</code>
            </AtomTooltip>
            <AtomTooltip target="top-end" placement="top-end">
              <code>placement='top-end'</code>
            </AtomTooltip>
          </li>

          {/* --- right --- */}
          <li style={listItemRight}>
            <strong id="right-start">right-start</strong>
            <strong id="right">right</strong>
            <strong id="right-end">right-end</strong>
            <AtomTooltip target="right-start" placement="right-start">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit<br />
              <code>placement='right-start'</code>
            </AtomTooltip>
            <AtomTooltip target="right" placement="right">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit<br />
              <code>placement='right'</code>
            </AtomTooltip>
            <AtomTooltip target="right-end" placement="right-end">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit<br />
              <code>placement='right-end'</code>
            </AtomTooltip>
          </li>

          {/* --- bottom --- */}
          <li style={listItemBottom}>
            <strong id="bottom-start">bottom-start</strong>
            <strong id="bottom">bottom</strong>
            <strong id="bottom-end">bottom-end</strong>
            <AtomTooltip target="bottom-start" placement="bottom-start">
              <code>placement='bottom-start'</code>
            </AtomTooltip>
            <AtomTooltip target="bottom" placement="bottom">
              <code>placement='bottom'</code>
            </AtomTooltip>
            <AtomTooltip target="bottom-end" placement="bottom-end">
              <code>placement='bottom-end'</code>
            </AtomTooltip>
          </li>

          {/* --- left --- */}
          <li style={listItemLeft}>
            <strong id="left-start">left-start</strong>
            <strong id="left">left</strong>
            <strong id="left-end">left-end</strong>
            <AtomTooltip target="left-start" placement="left-start">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit<br />
              <code>placement='left-start'</code>
            </AtomTooltip>
            <AtomTooltip target="left" placement="left">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit<br />
              <code>placement='left'</code>
            </AtomTooltip>
            <AtomTooltip target="left-end" placement="left-end">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit<br />
              <code>placement='left-end'</code>
            </AtomTooltip>
          </li>
        </ul>
      </div>
    </div>
    <h2>
      Selecting element over which apply the tooltip w/ <code>target</code>
    </h2>
    <h3>Using an ID</h3>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna{' '}
        <strong id="astros">astros</strong>
      </p>
      <AtomTooltip placement="left" target="astros">
        Hello <strong>world</strong>!
      </AtomTooltip>
    </div>
    <h3>Using an DOM Selection</h3>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <p>
        Lorem Ipsum <StrongWithTooltip text="astros" />
      </p>
    </div>
    <h3>Using a function that returns a DOM Selection</h3>
    <div
      style={{
        border: '1px solid #CCC',
        background: '#fff',
        marginTop: '10px',
        padding: '10px'
      }}
    >
      <ul id="list" style={stylesList}>
        <li>
          <a href="http://google.com">Google</a>
        </li>
        <li>
          <a href="https://twitter.com">Twitter</a>
        </li>
        <li>
          <a href="http://facebook.com">Facebook</a>
        </li>
      </ul>
      <AtomTooltip
        placement="bottom"
        target={() => document.querySelector('#list a[href^="https"]')}
      >
        First Secure Link
      </AtomTooltip>
    </div>
  </div>
)
