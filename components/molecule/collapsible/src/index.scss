@import '~@schibstedspain/sui-theme/lib/index';
@import './settings';

.sui-MoleculeCollapsible {
  background-color: $bgc-collapsible-container;
  display: inline-block;
  position: relative;
  width: 100%;

  &-btn {
    background: none;
    border: 0;
    color: $c-collapsible-btn;
    cursor: pointer;
    height: $mh-collapsible-btn;
    margin-top: $mt-collapsible-btn;
    padding: $p-collapsible-btn 0;

    &:focus, 
    &-content:focus {
      outline: none;
    }

    &:focus &-content {
      box-shadow: 0 0 6px 3px color-variation($c-primary, 1);
    }

    .with-contentHidden & {
      color: $c-collapsible-text;
      height: $h-collapsible-btn;
      margin: 0;
      padding: 0;
      width: 100%;

      &-content {
        display: block;
        padding: $p-collapsible-content;
        text-align: left;
        width: 100%;
      }

    }

  }

  &-content {
    overflow: auto;

    &--withTransition {
      transition: $trs-collapsible-content;
    }

    .is-collapsed & {
      overflow: hidden;
    }

    .with-contentHidden & {
      border-top: $bd-collapsible-container;

      & > div {
        padding: $p-collapsible-content;
      }

    }

    .is-collapsed.with-contentHidden & {
      border: $bd-collapsible-container-none;
    }

  }

  &-container {
    background-color: $bgc-collapsible-container;
    position: relative;
    width: 100%;

    &#{&}--withGradient.is-collapsed {
      
      &::before {
        background: $bg-collapsible-container-gradient;
        content: '';
        height: $h-collapsible-container-gradient;
        left: 0;
        position: absolute;
        top: -100%;
        width: 100%;
      }
    }
  }

  &-icon {
    padding-left: $p-collapsible-btn;
    vertical-align: middle;

    svg {
      fill: currentColor;
      transform: scale(-1);
      width: 10px;
    }

    &.is-collapsed {
      svg {
        transform: scale(1);
      }
    }

    .with-contentHidden & {
      float: right;
    }

  }

  &.with-contentHidden {
    border: $bd-collapsible-container;
    border-bottom: $bd-collapsible-container-none;
    display: flex;
    flex-direction: column-reverse;

    &:last-child {
      border-bottom: $bd-collapsible-container;
    }

  }

}
